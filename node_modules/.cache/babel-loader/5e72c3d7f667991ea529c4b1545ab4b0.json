{"ast":null,"code":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends2 = require('babel-runtime/helpers/extends');\n\nvar _extends3 = _interopRequireDefault(_extends2);\n\nvar _constants = require('./constants');\n\nvar _fuzzy = require('./fuzzy');\n\nvar _fuzzy2 = _interopRequireDefault(_fuzzy);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n/* eslint-disable no-extra-parens */\n\n\nvar SKIP = 0;\nvar ADD = 1;\nvar START_NEW_REGION = 2;\nvar NOPE = 3;\n\nvar canAddTokenToEndOfSubRegion = function canAddTokenToEndOfSubRegion(subRegion, currentToken, _ref) {\n  var impliedHundreds = _ref.impliedHundreds;\n  var tokens = subRegion.tokens;\n  var prevToken = tokens[0];\n  if (!prevToken) return true;\n  if (prevToken.type === _constants.TOKEN_TYPE.MAGNITUDE && currentToken.type === _constants.TOKEN_TYPE.UNIT) return true;\n  if (prevToken.type === _constants.TOKEN_TYPE.MAGNITUDE && currentToken.type === _constants.TOKEN_TYPE.TEN) return true;\n  if (impliedHundreds && subRegion.type === _constants.TOKEN_TYPE.MAGNITUDE && prevToken.type === _constants.TOKEN_TYPE.TEN && currentToken.type === _constants.TOKEN_TYPE.UNIT) return true;\n  if (impliedHundreds && subRegion.type === _constants.TOKEN_TYPE.MAGNITUDE && prevToken.type === _constants.TOKEN_TYPE.UNIT && currentToken.type === _constants.TOKEN_TYPE.TEN) return true;\n  if (prevToken.type === _constants.TOKEN_TYPE.TEN && currentToken.type === _constants.TOKEN_TYPE.UNIT) return true;\n  if (!impliedHundreds && prevToken.type === _constants.TOKEN_TYPE.TEN && currentToken.type === _constants.TOKEN_TYPE.UNIT) return true;\n  if (prevToken.type === _constants.TOKEN_TYPE.MAGNITUDE && currentToken.type === _constants.TOKEN_TYPE.MAGNITUDE) return true;\n  if (!impliedHundreds && prevToken.type === _constants.TOKEN_TYPE.TEN && currentToken.type === _constants.TOKEN_TYPE.TEN) return false;\n  if (impliedHundreds && prevToken.type === _constants.TOKEN_TYPE.TEN && currentToken.type === _constants.TOKEN_TYPE.TEN) return true;\n  return false;\n};\n\nvar getSubRegionType = function getSubRegionType(subRegion, currentToken) {\n  if (!subRegion) {\n    return {\n      type: currentToken.type\n    };\n  }\n\n  var prevToken = subRegion.tokens[0];\n  var isHundred = prevToken.type === _constants.TOKEN_TYPE.TEN && currentToken.type === _constants.TOKEN_TYPE.UNIT || prevToken.type === _constants.TOKEN_TYPE.TEN && currentToken.type === _constants.TOKEN_TYPE.TEN || prevToken.type === _constants.TOKEN_TYPE.UNIT && currentToken.type === _constants.TOKEN_TYPE.TEN && _constants.NUMBER[prevToken.lowerCaseValue] > 9 || prevToken.type === _constants.TOKEN_TYPE.UNIT && currentToken.type === _constants.TOKEN_TYPE.UNIT || prevToken.type === _constants.TOKEN_TYPE.TEN && currentToken.type === _constants.TOKEN_TYPE.UNIT && subRegion.type === _constants.TOKEN_TYPE.MAGNITUDE;\n  if (subRegion.type === _constants.TOKEN_TYPE.MAGNITUDE) return {\n    type: _constants.TOKEN_TYPE.MAGNITUDE,\n    isHundred: isHundred\n  };\n  if (isHundred) return {\n    type: _constants.TOKEN_TYPE.HUNDRED,\n    isHundred: isHundred\n  };\n  return {\n    type: currentToken.type,\n    isHundred: isHundred\n  };\n};\n\nvar checkIfTokenFitsSubRegion = function checkIfTokenFitsSubRegion(subRegion, token, options) {\n  var _getSubRegionType = getSubRegionType(subRegion, token);\n\n  var type = _getSubRegionType.type;\n  var isHundred = _getSubRegionType.isHundred;\n  if (!subRegion) return {\n    action: START_NEW_REGION,\n    type: type,\n    isHundred: isHundred\n  };\n\n  if (canAddTokenToEndOfSubRegion(subRegion, token, options)) {\n    return {\n      action: ADD,\n      type: type,\n      isHundred: isHundred\n    };\n  }\n\n  return {\n    action: START_NEW_REGION,\n    type: type,\n    isHundred: isHundred\n  };\n};\n\nvar getSubRegions = function getSubRegions(region, options) {\n  var subRegions = [];\n  var currentSubRegion = void 0;\n  var tokensCount = region.tokens.length;\n  var i = tokensCount - 1;\n\n  while (i >= 0) {\n    var token = region.tokens[i];\n\n    var _checkIfTokenFitsSubR = checkIfTokenFitsSubRegion(currentSubRegion, token, options);\n\n    var action = _checkIfTokenFitsSubR.action;\n    var type = _checkIfTokenFitsSubR.type;\n    var isHundred = _checkIfTokenFitsSubR.isHundred;\n    token.type = isHundred ? _constants.TOKEN_TYPE.HUNDRED : token.type;\n\n    switch (action) {\n      case ADD:\n        {\n          currentSubRegion.type = type;\n          currentSubRegion.tokens.unshift(token);\n          break;\n        }\n\n      case START_NEW_REGION:\n        {\n          currentSubRegion = {\n            tokens: [token],\n            type: type\n          };\n          subRegions.unshift(currentSubRegion);\n          break;\n        }\n      // no default\n    }\n\n    i--;\n  }\n\n  return subRegions;\n};\n\nvar canAddTokenToEndOfRegion = function canAddTokenToEndOfRegion(region, currentToken, _ref2) {\n  var impliedHundreds = _ref2.impliedHundreds;\n  var tokens = region.tokens;\n  var prevToken = tokens[tokens.length - 1];\n  if (!impliedHundreds && prevToken.type === _constants.TOKEN_TYPE.UNIT && currentToken.type === _constants.TOKEN_TYPE.UNIT && !region.hasDecimal) return false;\n  if (!impliedHundreds && prevToken.type === _constants.TOKEN_TYPE.UNIT && currentToken.type === _constants.TOKEN_TYPE.TEN) return false;\n  if (!impliedHundreds && prevToken.type === _constants.TOKEN_TYPE.TEN && currentToken.type === _constants.TOKEN_TYPE.TEN) return false;\n  return true;\n};\n\nvar checkIfTokenFitsRegion = function checkIfTokenFitsRegion(region, token, options) {\n  var isDecimal = _constants.DECIMALS.includes(token.lowerCaseValue);\n\n  if ((!region || !region.tokens.length) && isDecimal) {\n    return START_NEW_REGION;\n  }\n\n  var isPunctuation = _constants.PUNCTUATION.includes(token.lowerCaseValue);\n\n  if (isPunctuation) return SKIP;\n\n  var isJoiner = _constants.JOINERS.includes(token.lowerCaseValue);\n\n  if (isJoiner) return SKIP;\n\n  if (isDecimal && !region.hasDecimal) {\n    return ADD;\n  }\n\n  var isNumberWord = _constants.NUMBER_WORDS.includes(token.lowerCaseValue);\n\n  if (isNumberWord) {\n    if (!region) return START_NEW_REGION;\n\n    if (canAddTokenToEndOfRegion(region, token, options)) {\n      return ADD;\n    }\n\n    return START_NEW_REGION;\n  }\n\n  return NOPE;\n};\n\nvar checkBlacklist = function checkBlacklist(tokens) {\n  return tokens.length === 1 && _constants.BLACKLIST_SINGULAR_WORDS.includes(tokens[0].lowerCaseValue);\n};\n\nvar matchRegions = function matchRegions(tokens, options) {\n  var regions = [];\n  if (checkBlacklist(tokens)) return regions;\n  var i = 0;\n  var currentRegion = void 0;\n  var tokensCount = tokens.length;\n\n  while (i < tokensCount) {\n    var token = tokens[i];\n    var tokenFits = checkIfTokenFitsRegion(currentRegion, token, options);\n\n    switch (tokenFits) {\n      case SKIP:\n        {\n          break;\n        }\n\n      case ADD:\n        {\n          if (currentRegion) {\n            currentRegion.end = token.end;\n            currentRegion.tokens.push(token);\n\n            if (token.type === _constants.TOKEN_TYPE.DECIMAL) {\n              currentRegion.hasDecimal = true;\n            }\n          }\n\n          break;\n        }\n\n      case START_NEW_REGION:\n        {\n          currentRegion = {\n            start: token.start,\n            end: token.end,\n            tokens: [token]\n          };\n          regions.push(currentRegion);\n\n          if (token.type === _constants.TOKEN_TYPE.DECIMAL) {\n            currentRegion.hasDecimal = true;\n          }\n\n          break;\n        }\n\n      case NOPE:\n      default:\n        {\n          currentRegion = null;\n          break;\n        }\n    }\n\n    i++;\n  }\n\n  return regions.map(function (region) {\n    return (0, _extends3.default)({}, region, {\n      subRegions: getSubRegions(region, options)\n    });\n  });\n};\n\nvar getTokenType = function getTokenType(chunk) {\n  if (_constants.UNIT_KEYS.includes(chunk.toLowerCase())) return _constants.TOKEN_TYPE.UNIT;\n  if (_constants.TEN_KEYS.includes(chunk.toLowerCase())) return _constants.TOKEN_TYPE.TEN;\n  if (_constants.MAGNITUDE_KEYS.includes(chunk.toLowerCase())) return _constants.TOKEN_TYPE.MAGNITUDE;\n  if (_constants.DECIMALS.includes(chunk.toLowerCase())) return _constants.TOKEN_TYPE.DECIMAL;\n};\n\nexports.default = function (text, options) {\n  var tokens = text.split(/(\\w+|\\s|[[:punct:]])/i).reduce(function (acc, chunk) {\n    var unfuzzyChunk = chunk.length && options.fuzzy && !_constants.PUNCTUATION.includes(chunk) ? (0, _fuzzy2.default)(chunk) : chunk;\n    var start = acc.length ? acc[acc.length - 1].end + 1 : 0;\n    var end = start + chunk.length;\n    return end !== start ? acc.concat({\n      start: start,\n      end: end - 1,\n      value: unfuzzyChunk,\n      lowerCaseValue: unfuzzyChunk.toLowerCase(),\n      type: getTokenType(unfuzzyChunk, options)\n    }) : acc;\n  }, []);\n  var regions = matchRegions(tokens, options);\n  return regions;\n};","map":{"version":3,"names":["Object","defineProperty","exports","value","_extends2","require","_extends3","_interopRequireDefault","_constants","_fuzzy","_fuzzy2","obj","__esModule","default","SKIP","ADD","START_NEW_REGION","NOPE","canAddTokenToEndOfSubRegion","subRegion","currentToken","_ref","impliedHundreds","tokens","prevToken","type","TOKEN_TYPE","MAGNITUDE","UNIT","TEN","getSubRegionType","isHundred","NUMBER","lowerCaseValue","HUNDRED","checkIfTokenFitsSubRegion","token","options","_getSubRegionType","action","getSubRegions","region","subRegions","currentSubRegion","tokensCount","length","i","_checkIfTokenFitsSubR","unshift","canAddTokenToEndOfRegion","_ref2","hasDecimal","checkIfTokenFitsRegion","isDecimal","DECIMALS","includes","isPunctuation","PUNCTUATION","isJoiner","JOINERS","isNumberWord","NUMBER_WORDS","checkBlacklist","BLACKLIST_SINGULAR_WORDS","matchRegions","regions","currentRegion","tokenFits","end","push","DECIMAL","start","map","getTokenType","chunk","UNIT_KEYS","toLowerCase","TEN_KEYS","MAGNITUDE_KEYS","text","split","reduce","acc","unfuzzyChunk","fuzzy","concat"],"sources":["/Users/digitalbrum/work/E-News/node_modules/words-to-numbers/dist/parser.js"],"sourcesContent":["'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends2 = require('babel-runtime/helpers/extends');\n\nvar _extends3 = _interopRequireDefault(_extends2);\n\nvar _constants = require('./constants');\n\nvar _fuzzy = require('./fuzzy');\n\nvar _fuzzy2 = _interopRequireDefault(_fuzzy);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/* eslint-disable no-extra-parens */\nvar SKIP = 0;\nvar ADD = 1;\nvar START_NEW_REGION = 2;\nvar NOPE = 3;\n\nvar canAddTokenToEndOfSubRegion = function canAddTokenToEndOfSubRegion(subRegion, currentToken, _ref) {\n  var impliedHundreds = _ref.impliedHundreds;\n  var tokens = subRegion.tokens;\n\n  var prevToken = tokens[0];\n  if (!prevToken) return true;\n  if (prevToken.type === _constants.TOKEN_TYPE.MAGNITUDE && currentToken.type === _constants.TOKEN_TYPE.UNIT) return true;\n  if (prevToken.type === _constants.TOKEN_TYPE.MAGNITUDE && currentToken.type === _constants.TOKEN_TYPE.TEN) return true;\n  if (impliedHundreds && subRegion.type === _constants.TOKEN_TYPE.MAGNITUDE && prevToken.type === _constants.TOKEN_TYPE.TEN && currentToken.type === _constants.TOKEN_TYPE.UNIT) return true;\n  if (impliedHundreds && subRegion.type === _constants.TOKEN_TYPE.MAGNITUDE && prevToken.type === _constants.TOKEN_TYPE.UNIT && currentToken.type === _constants.TOKEN_TYPE.TEN) return true;\n  if (prevToken.type === _constants.TOKEN_TYPE.TEN && currentToken.type === _constants.TOKEN_TYPE.UNIT) return true;\n  if (!impliedHundreds && prevToken.type === _constants.TOKEN_TYPE.TEN && currentToken.type === _constants.TOKEN_TYPE.UNIT) return true;\n  if (prevToken.type === _constants.TOKEN_TYPE.MAGNITUDE && currentToken.type === _constants.TOKEN_TYPE.MAGNITUDE) return true;\n  if (!impliedHundreds && prevToken.type === _constants.TOKEN_TYPE.TEN && currentToken.type === _constants.TOKEN_TYPE.TEN) return false;\n  if (impliedHundreds && prevToken.type === _constants.TOKEN_TYPE.TEN && currentToken.type === _constants.TOKEN_TYPE.TEN) return true;\n  return false;\n};\n\nvar getSubRegionType = function getSubRegionType(subRegion, currentToken) {\n  if (!subRegion) {\n    return { type: currentToken.type };\n  }\n  var prevToken = subRegion.tokens[0];\n  var isHundred = prevToken.type === _constants.TOKEN_TYPE.TEN && currentToken.type === _constants.TOKEN_TYPE.UNIT || prevToken.type === _constants.TOKEN_TYPE.TEN && currentToken.type === _constants.TOKEN_TYPE.TEN || prevToken.type === _constants.TOKEN_TYPE.UNIT && currentToken.type === _constants.TOKEN_TYPE.TEN && _constants.NUMBER[prevToken.lowerCaseValue] > 9 || prevToken.type === _constants.TOKEN_TYPE.UNIT && currentToken.type === _constants.TOKEN_TYPE.UNIT || prevToken.type === _constants.TOKEN_TYPE.TEN && currentToken.type === _constants.TOKEN_TYPE.UNIT && subRegion.type === _constants.TOKEN_TYPE.MAGNITUDE;\n  if (subRegion.type === _constants.TOKEN_TYPE.MAGNITUDE) return { type: _constants.TOKEN_TYPE.MAGNITUDE, isHundred: isHundred };\n  if (isHundred) return { type: _constants.TOKEN_TYPE.HUNDRED, isHundred: isHundred };\n  return { type: currentToken.type, isHundred: isHundred };\n};\n\nvar checkIfTokenFitsSubRegion = function checkIfTokenFitsSubRegion(subRegion, token, options) {\n  var _getSubRegionType = getSubRegionType(subRegion, token);\n\n  var type = _getSubRegionType.type;\n  var isHundred = _getSubRegionType.isHundred;\n\n  if (!subRegion) return { action: START_NEW_REGION, type: type, isHundred: isHundred };\n  if (canAddTokenToEndOfSubRegion(subRegion, token, options)) {\n    return { action: ADD, type: type, isHundred: isHundred };\n  }\n  return { action: START_NEW_REGION, type: type, isHundred: isHundred };\n};\n\nvar getSubRegions = function getSubRegions(region, options) {\n  var subRegions = [];\n  var currentSubRegion = void 0;\n  var tokensCount = region.tokens.length;\n  var i = tokensCount - 1;\n  while (i >= 0) {\n    var token = region.tokens[i];\n\n    var _checkIfTokenFitsSubR = checkIfTokenFitsSubRegion(currentSubRegion, token, options);\n\n    var action = _checkIfTokenFitsSubR.action;\n    var type = _checkIfTokenFitsSubR.type;\n    var isHundred = _checkIfTokenFitsSubR.isHundred;\n\n    token.type = isHundred ? _constants.TOKEN_TYPE.HUNDRED : token.type;\n    switch (action) {\n      case ADD:\n        {\n          currentSubRegion.type = type;\n          currentSubRegion.tokens.unshift(token);\n          break;\n        }\n      case START_NEW_REGION:\n        {\n          currentSubRegion = {\n            tokens: [token],\n            type: type\n          };\n          subRegions.unshift(currentSubRegion);\n          break;\n        }\n      // no default\n    }\n    i--;\n  }\n  return subRegions;\n};\n\nvar canAddTokenToEndOfRegion = function canAddTokenToEndOfRegion(region, currentToken, _ref2) {\n  var impliedHundreds = _ref2.impliedHundreds;\n  var tokens = region.tokens;\n\n  var prevToken = tokens[tokens.length - 1];\n  if (!impliedHundreds && prevToken.type === _constants.TOKEN_TYPE.UNIT && currentToken.type === _constants.TOKEN_TYPE.UNIT && !region.hasDecimal) return false;\n  if (!impliedHundreds && prevToken.type === _constants.TOKEN_TYPE.UNIT && currentToken.type === _constants.TOKEN_TYPE.TEN) return false;\n  if (!impliedHundreds && prevToken.type === _constants.TOKEN_TYPE.TEN && currentToken.type === _constants.TOKEN_TYPE.TEN) return false;\n  return true;\n};\n\nvar checkIfTokenFitsRegion = function checkIfTokenFitsRegion(region, token, options) {\n  var isDecimal = _constants.DECIMALS.includes(token.lowerCaseValue);\n  if ((!region || !region.tokens.length) && isDecimal) {\n    return START_NEW_REGION;\n  }\n  var isPunctuation = _constants.PUNCTUATION.includes(token.lowerCaseValue);\n  if (isPunctuation) return SKIP;\n  var isJoiner = _constants.JOINERS.includes(token.lowerCaseValue);\n  if (isJoiner) return SKIP;\n  if (isDecimal && !region.hasDecimal) {\n    return ADD;\n  }\n  var isNumberWord = _constants.NUMBER_WORDS.includes(token.lowerCaseValue);\n  if (isNumberWord) {\n    if (!region) return START_NEW_REGION;\n    if (canAddTokenToEndOfRegion(region, token, options)) {\n      return ADD;\n    }\n    return START_NEW_REGION;\n  }\n  return NOPE;\n};\n\nvar checkBlacklist = function checkBlacklist(tokens) {\n  return tokens.length === 1 && _constants.BLACKLIST_SINGULAR_WORDS.includes(tokens[0].lowerCaseValue);\n};\n\nvar matchRegions = function matchRegions(tokens, options) {\n  var regions = [];\n\n  if (checkBlacklist(tokens)) return regions;\n\n  var i = 0;\n  var currentRegion = void 0;\n  var tokensCount = tokens.length;\n  while (i < tokensCount) {\n    var token = tokens[i];\n    var tokenFits = checkIfTokenFitsRegion(currentRegion, token, options);\n    switch (tokenFits) {\n      case SKIP:\n        {\n          break;\n        }\n      case ADD:\n        {\n          if (currentRegion) {\n            currentRegion.end = token.end;\n            currentRegion.tokens.push(token);\n            if (token.type === _constants.TOKEN_TYPE.DECIMAL) {\n              currentRegion.hasDecimal = true;\n            }\n          }\n          break;\n        }\n      case START_NEW_REGION:\n        {\n          currentRegion = {\n            start: token.start,\n            end: token.end,\n            tokens: [token]\n          };\n          regions.push(currentRegion);\n          if (token.type === _constants.TOKEN_TYPE.DECIMAL) {\n            currentRegion.hasDecimal = true;\n          }\n          break;\n        }\n      case NOPE:\n      default:\n        {\n          currentRegion = null;\n          break;\n        }\n    }\n    i++;\n  }\n\n  return regions.map(function (region) {\n    return (0, _extends3.default)({}, region, { subRegions: getSubRegions(region, options) });\n  });\n};\n\nvar getTokenType = function getTokenType(chunk) {\n  if (_constants.UNIT_KEYS.includes(chunk.toLowerCase())) return _constants.TOKEN_TYPE.UNIT;\n  if (_constants.TEN_KEYS.includes(chunk.toLowerCase())) return _constants.TOKEN_TYPE.TEN;\n  if (_constants.MAGNITUDE_KEYS.includes(chunk.toLowerCase())) return _constants.TOKEN_TYPE.MAGNITUDE;\n  if (_constants.DECIMALS.includes(chunk.toLowerCase())) return _constants.TOKEN_TYPE.DECIMAL;\n};\n\nexports.default = function (text, options) {\n  var tokens = text.split(/(\\w+|\\s|[[:punct:]])/i).reduce(function (acc, chunk) {\n    var unfuzzyChunk = chunk.length && options.fuzzy && !_constants.PUNCTUATION.includes(chunk) ? (0, _fuzzy2.default)(chunk) : chunk;\n    var start = acc.length ? acc[acc.length - 1].end + 1 : 0;\n    var end = start + chunk.length;\n    return end !== start ? acc.concat({\n      start: start,\n      end: end - 1,\n      value: unfuzzyChunk,\n      lowerCaseValue: unfuzzyChunk.toLowerCase(),\n      type: getTokenType(unfuzzyChunk, options)\n    }) : acc;\n  }, []);\n  var regions = matchRegions(tokens, options);\n  return regions;\n};"],"mappings":"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"},"metadata":{},"sourceType":"script"}